# üé® –ï–¢–ê–ü 5: –ü–õ–ê–ù –ü–û–ö–†–ê–©–ï–ù–¨ UX/UI –ü–û–®–£–ö–û–í–û–á –°–ò–°–¢–ï–ú–ò

**üìÖ –î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è:** 20.07.2025  
**üéØ –°—Ç–∞—Ç—É—Å:** –ê–Ω–∞–ª—ñ–∑ –∑–∞–≤–µ—Ä—à–µ–Ω–æ, –≥–æ—Ç–æ–≤–æ –¥–æ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó  
**‚è±Ô∏è –û—á—ñ–∫—É–≤–∞–Ω–∏–π —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:** 4 —Ç–∏–∂–Ω—ñ  
**üë• –ö–æ–º–∞–Ω–¥–∞:** Frontend —Ä–æ–∑—Ä–æ–±–∫–∞ + UX/UI –¥–∏–∑–∞–π–Ω  

---

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–ò –ê–ù–ê–õ–Ü–ó–£ –ü–û–¢–û–ß–ù–û–ì–û –°–¢–ê–ù–£

### ‚úÖ **–°–∏–ª—å–Ω—ñ —Å—Ç–æ—Ä–æ–Ω–∏ —Å–∏—Å—Ç–µ–º–∏:**

#### **1. –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∞ –¥–æ—Å–∫–æ–Ω–∞–ª—ñ—Å—Ç—å**
- üéØ **–¢–æ—á–Ω—ñ—Å—Ç—å –ø–æ—à—É–∫—É**: >95% —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
- ‚ö° **–®–≤–∏–¥–∫—ñ—Å—Ç—å**: <50ms —Å–µ—Ä–µ–¥–Ω—ñ–π —á–∞—Å (0.4ms –∑ –∫–µ—à–µ–º)
- üóÑÔ∏è **–ö–µ—à—É–≤–∞–Ω–Ω—è**: –ø—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è —É 10+ —Ä–∞–∑—ñ–≤ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤
- üé® **–ü—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è**: —Ç–æ—á–Ω–µ –ø—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è –æ–±—Ä–∞–Ω–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

#### **2. –¢–µ—Ö–Ω—ñ—á–Ω–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è**
- ‚öõÔ∏è **React.memo**: –ø—Ä–∞–≤–∏–ª—å–Ω—ñ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è, –±–µ–∑ –∑–∞–π–≤–∏—Ö —Ä–µ—Ä–µ–Ω–¥–µ—Ä—ñ–≤
- üîÑ **Debouncing**: –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø–æ—à—É–∫–æ–≤–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ (300ms)
- üì± **Responsiveness**: —à–≤–∏–¥–∫–∏–π –≤—ñ–¥–≥—É–∫ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
- üßπ **Memory management**: –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –≤–∏—Ç–æ–∫—ñ–≤ –ø–∞–º'—è—Ç—ñ

#### **3. –°—É—á–∞—Å–Ω–∏–π –¥–∏–∑–∞–π–Ω**
- üé≠ **–ê–Ω—ñ–º–∞—Ü—ñ—ó**: backdrop-filter, cubic-bezier –ø–µ—Ä–µ—Ö–æ–¥–∏
- üåô **–¢–µ–º–Ω–∞ —Ç–µ–º–∞**: –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ `prefers-color-scheme: dark`
- üì± **–ê–¥–∞–ø—Ç–∏–≤–Ω—ñ—Å—Ç—å**: –¥–µ—Ç–∞–ª—å–Ω—ñ –º–µ–¥—ñ–∞-–∑–∞–ø–∏—Ç–∏ (768px, 480px)
- üé® **–í—ñ–∑—É–∞–ª—å–Ω–∞ —ñ—î—Ä–∞—Ä—Ö—ñ—è**: –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞ –∫–æ–ª—å–æ—Ä–æ–≤–∞ —Å—Ö–µ–º–∞

### ‚ùå **–ö—Ä–∏—Ç–∏—á–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ –¥–ª—è –≤–∏—Ä—ñ—à–µ–Ω–Ω—è:**

#### **1. Accessibility (–ö–†–ò–¢–ò–ß–ù–û)**
- ‚ùå **ARIA live regions**: –≤—ñ–¥—Å—É—Ç–Ω—ñ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –¥–ª—è screen readers
- ‚ùå **prefers-reduced-motion**: –Ω–µ–º–∞—î –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –∑ –µ–ø—ñ–ª–µ–ø—Å—ñ—î—é
- ‚ùå **Keyboard navigation**: –Ω–µ–ø–æ–≤–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ —Å—Ç—Ä—ñ–ª–æ–∫ —Ç–∞ Enter
- ‚ùå **Skip links**: –≤—ñ–¥—Å—É—Ç–Ω—ñ —à–≤–∏–¥–∫—ñ –ø–µ—Ä–µ—Ö–æ–¥–∏
- ‚ùå **Landmark roles**: –Ω–µ–º–∞—î —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ—ó —Å–µ–º–∞–Ω—Ç–∏–∫–∏
- ‚ùå **Focus management**: –Ω–µ –≤—Å—ñ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ accessible

#### **2. –ö–æ–¥ —Ç–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ (–°–ï–†–ï–î–ù–¨–û)**
- ‚ö†Ô∏è **–î—É–±–ª—é–≤–∞–Ω–Ω—è CSS**: 1315+ —Ä—è–¥–∫—ñ–≤ –∑ –ø–æ–≤—Ç–æ—Ä–µ–Ω–Ω—è–º–∏ —É —Ñ–∞–π–ª–∞—Ö
- ‚ö†Ô∏è **–í–µ–ª–∏–∫—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏**: SearchModal.js (658 —Ä—è–¥–∫—ñ–≤), EnhancedGlobalSearch.js (1041+ —Ä—è–¥–∫—ñ–≤)
- ‚ö†Ô∏è **Console.log**: –∑–∞–ª–∏—à–∫–∏ debug –∫–æ–¥—É –≤ –ø—Ä–æ–¥–∞–∫—à–Ω
- ‚ö†Ô∏è **Bundle size**: –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å code splitting

#### **3. UX –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è (–°–ï–†–ï–î–ù–¨–û)**
- ‚ö†Ô∏è **–ü—Ä–æ–≥—Ä–µ—Å–∏–≤–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è**: –Ω–µ–º–∞—î —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä—ñ–≤ –ø—Ä–æ–≥—Ä–µ—Å—É
- ‚ö†Ô∏è **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ—à—É–∫—É**: –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —á–∞—Å—É —Ç–∞ –º–µ—Ç—Ä–∏–∫
- ‚ö†Ô∏è **Voice search**: –Ω–µ–º–∞—î –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –ø–æ—à—É–∫—É
- ‚ö†Ô∏è **Auto-suggestions**: —Ç—ñ–ª—å–∫–∏ –ª–æ–∫–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ
- ‚ö†Ô∏è **–ü–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–∞—Ü—ñ—è**: –Ω–µ–º–∞—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏—Ö –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å

---

## üöÄ –î–ï–¢–ê–õ–¨–ù–ò–ô –ü–õ–ê–ù –ü–û–ö–†–ê–©–ï–ù–¨

### **–§–ê–ó–ê 1: –ö–†–ò–¢–ò–ß–ù–Ü ACCESSIBILITY –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø** ‚≠ê **–ù–ê–ô–í–ò–©–ò–ô –ü–†–Ü–û–†–ò–¢–ï–¢**

#### **1.1 ARIA –∞—Ç—Ä–∏–±—É—Ç–∏ —Ç–∞ —Å–µ–º–∞–Ω—Ç–∏–∫–∞**

**–§–∞–π–ª–∏ –¥–ª—è —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è:**
- `src/components/search/SearchModal.js`
- `src/components/search/EnhancedGlobalSearch.js`

**–ó–º—ñ–Ω–∏:**
```javascript
// –î–æ–¥–∞—Ç–∏ –¥–æ SearchModal.js:
<div 
  role="dialog" 
  aria-labelledby="search-title"
  aria-describedby="search-description"
  aria-live="polite"
  aria-modal="true"
>
  <h2 id="search-title">–ü–æ—à—É–∫ –ø–æ —Å–∞–π—Ç—É</h2>
  <div id="search-description" className="sr-only">
    –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ü–µ –ø–æ–ª–µ –¥–ª—è –ø–æ—à—É–∫—É –∫–æ–Ω—Ç–µ–Ω—Ç—É –Ω–∞ —Å–∞–π—Ç—ñ. 
    –ù–∞–≤—ñ–≥–∞—Ü—ñ—è: —Å—Ç—Ä—ñ–ª–∫–∏ –≤–≥–æ—Ä—É/–≤–Ω–∏–∑, Enter –¥–ª—è –≤–∏–±–æ—Ä—É, Escape –¥–ª—è –∑–∞–∫—Ä–∏—Ç—Ç—è.
  </div>
  
  {/* Live region –¥–ª—è –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ */}
  <div 
    aria-live="polite" 
    aria-atomic="true" 
    className="sr-only"
    id="search-status"
  >
    {searchResults.length > 0 && 
      `–ó–Ω–∞–π–¥–µ–Ω–æ ${searchResults.length} —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –¥–ª—è "${searchQuery}"`
    }
    {isSearching && "–í–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ø–æ—à—É–∫..."}
    {hasSearched && searchResults.length === 0 && "–†–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ"}
  </div>
</div>

// –î–æ–¥–∞—Ç–∏ –¥–æ –ø–æ–ª—è –≤–≤–æ–¥—É:
<input
  ref={searchInputRef}
  type="text"
  role="searchbox"
  aria-label="–ü–æ–ª–µ –ø–æ—à—É–∫—É"
  aria-describedby="search-description search-status"
  aria-expanded={searchResults.length > 0}
  aria-autocomplete="list"
  aria-controls="search-results"
  // ... —ñ–Ω—à—ñ props
/>

// –î–æ–¥–∞—Ç–∏ –¥–æ —Å–ø–∏—Å–∫—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤:
<div 
  id="search-results"
  role="listbox"
  aria-labelledby="search-title"
>
  {searchResults.map((result, index) => (
    <div
      key={result.id}
      role="option"
      aria-selected={focusedIndex === index}
      tabIndex={focusedIndex === index ? 0 : -1}
      id={`search-result-${index}`}
    >
      {/* –∫–æ–Ω—Ç–µ–Ω—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É */}
    </div>
  ))}
</div>
```

**CSS –¥–æ–¥–∞—Ç–∫–∏:**
```css
/* –î–æ–¥–∞—Ç–∏ –¥–æ enhanced-search.css */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Focus indicators */
.search-result-item:focus,
.search-suggestion-tag:focus,
.quick-action-btn:focus {
  outline: 3px solid var(--search-primary);
  outline-offset: 2px;
}
```

#### **1.2 Reduced Motion –ø—ñ–¥—Ç—Ä–∏–º–∫–∞**

**–§–∞–π–ª:** `src/styles/enhanced-search.css`

```css
/* –î–æ–¥–∞—Ç–∏ –≤ –∫—ñ–Ω–µ—Ü—å —Ñ–∞–π–ª—É: */
@media (prefers-reduced-motion: reduce) {
  /* –í—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –≤—Å—ñ—Ö –∞–Ω—ñ–º–∞—Ü—ñ–π */
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  
  /* –°–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –ø–æ—à—É–∫—É */
  .search-modal-overlay,
  .search-modal-container,
  .search-result-item,
  .search-suggestion-tag,
  .search-modal-close {
    animation: none !important;
    transition: none !important;
  }
  
  .search-modal-close:hover {
    transform: none !important;
  }
  
  /* –ó–∞–ª–∏—à–∏—Ç–∏ —Ç—ñ–ª—å–∫–∏ opacity –¥–ª—è accessibility */
  .search-modal-overlay {
    transition: opacity 0.15s ease !important;
  }
}
```

#### **1.3 –ü–æ–∫—Ä–∞—â–µ–Ω–∞ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–Ω–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è**

**–§–∞–π–ª:** `src/components/search/SearchModal.js`

```javascript
// –î–æ–¥–∞—Ç–∏ —Å—Ç–µ–π—Ç –¥–ª—è —Ñ–æ–∫—É—Å—É:
const [focusedIndex, setFocusedIndex] = useState(-1);
const [navigableItems, setNavigableItems] = useState([]);

// –§—É–Ω–∫—Ü—ñ—ó –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó:
const focusNextResult = () => {
  setFocusedIndex(prev => 
    prev < navigableItems.length - 1 ? prev + 1 : 0
  );
};

const focusPrevResult = () => {
  setFocusedIndex(prev => 
    prev > 0 ? prev - 1 : navigableItems.length - 1
  );
};

const selectFocusedResult = () => {
  if (focusedIndex >= 0 && navigableItems[focusedIndex]) {
    handleResultSelect(navigableItems[focusedIndex]);
  }
};

// –û–±—Ä–æ–±–Ω–∏–∫ –∫–ª–∞–≤—ñ—à:
const handleKeyDown = useCallback((e) => {
  switch(e.key) {
    case 'ArrowDown':
      e.preventDefault();
      focusNextResult();
      break;
    case 'ArrowUp':
      e.preventDefault();
      focusPrevResult();
      break;
    case 'Enter':
      if (focusedIndex >= 0) {
        e.preventDefault();
        selectFocusedResult();
      }
      break;
    case 'Escape':
      e.preventDefault();
      onClose();
      break;
    case 'Tab':
      // –î–æ–∑–≤–æ–ª–∏—Ç–∏ –ø—Ä–∏—Ä–æ–¥–Ω—É Tab –Ω–∞–≤—ñ–≥–∞—Ü—ñ—é, –∞–ª–µ –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏ focus trap
      handleTabNavigation(e);
      break;
  }
}, [focusedIndex, navigableItems]);

// Focus trap –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞:
const handleTabNavigation = (e) => {
  const focusableElements = modalRef.current?.querySelectorAll(
    'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
  );
  
  if (!focusableElements?.length) return;
  
  const firstElement = focusableElements[0];
  const lastElement = focusableElements[focusableElements.length - 1];
  
  if (e.shiftKey && document.activeElement === firstElement) {
    e.preventDefault();
    lastElement.focus();
  } else if (!e.shiftKey && document.activeElement === lastElement) {
    e.preventDefault();
    firstElement.focus();
  }
};
```

#### **1.4 Skip Links —Ç–∞ Landmarks**

**–§–∞–π–ª:** `src/components/search/SearchModal.js`

```javascript
// –î–æ–¥–∞—Ç–∏ –Ω–∞ –ø–æ—á–∞—Ç–æ–∫ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞:
<div className="skip-links">
  <a href="#search-input" className="skip-link">
    –ü–µ—Ä–µ–π—Ç–∏ –¥–æ –ø–æ–ª—è –ø–æ—à—É–∫—É
  </a>
  <a href="#search-results" className="skip-link">
    –ü–µ—Ä–µ–π—Ç–∏ –¥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
  </a>
  <a href="#search-actions" className="skip-link">
    –ü–µ—Ä–µ–π—Ç–∏ –¥–æ —à–≤–∏–¥–∫–∏—Ö –¥—ñ–π
  </a>
</div>

<main role="main" aria-labelledby="search-title">
  <header role="banner">
    {/* header –∫–æ–Ω—Ç–µ–Ω—Ç */}
  </header>
  
  <section role="search" aria-labelledby="search-title">
    {/* –ø–æ–ª–µ –ø–æ—à—É–∫—É */}
  </section>
  
  <section role="region" aria-labelledby="results-heading">
    <h3 id="results-heading" className="sr-only">–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø–æ—à—É–∫—É</h3>
    {/* —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ */}
  </section>
  
  <aside role="complementary" id="search-actions">
    {/* —à–≤–∏–¥–∫—ñ –¥—ñ—ó —Ç–∞ —ñ—Å—Ç–æ—Ä—ñ—è */}
  </aside>
</main>
```

**CSS –¥–ª—è skip links:**
```css
.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: var(--search-primary);
  color: white;
  padding: 8px;
  text-decoration: none;
  border-radius: 4px;
  z-index: 9999;
  transition: top 0.3s ease;
}

.skip-link:focus {
  top: 6px;
}
```

---

### **–§–ê–ó–ê 2: –ü–û–ö–†–ê–©–ï–ù–ù–Ø –ê–ù–Ü–ú–ê–¶–Ü–ô –¢–ê –ü–†–û–ì–†–ï–°–£**

#### **2.1 –ü—Ä–æ–≥—Ä–µ—Å–∏–≤–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤**

**–§–∞–π–ª:** `src/components/search/EnhancedGlobalSearch.js`

```javascript
// –î–æ–¥–∞—Ç–∏ —Å—Ç–µ–π—Ç –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—É:
const [loadingProgress, setLoadingProgress] = useState(0);
const [loadingStage, setLoadingStage] = useState('');

const performSearchWithProgress = async (query) => {
  setLoadingProgress(0);
  setLoadingStage('–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–æ—à—É–∫—É...');
  
  // –ï—Ç–∞–ø 1: –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞
  setLoadingProgress(20);
  await new Promise(resolve => setTimeout(resolve, 50));
  
  // –ï—Ç–∞–ø 2: –ü–æ—à—É–∫ –≤ —ñ–Ω–¥–µ–∫—Å—ñ
  setLoadingStage('–ü–æ—à—É–∫ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö...');
  setLoadingProgress(40);
  const results = await searchEngine.search(query);
  
  // –ï—Ç–∞–ø 3: –û–±—Ä–æ–±–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
  setLoadingStage('–û–±—Ä–æ–±–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤...');
  setLoadingProgress(70);
  const processedResults = await processSearchResults(results);
  
  // –ï—Ç–∞–ø 4: –ü—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è
  setLoadingStage('–ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è...');
  setLoadingProgress(90);
  await prepareHighlighting(processedResults, query);
  
  // –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è
  setLoadingStage('–ì–æ—Ç–æ–≤–æ!');
  setLoadingProgress(100);
  
  setTimeout(() => {
    setLoadingProgress(0);
    setLoadingStage('');
  }, 500);
  
  return processedResults;
};

// UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä—É:
const SearchProgressBar = ({ progress, stage }) => (
  <div className="search-progress-container" aria-hidden="true">
    <div className="search-progress-bar">
      <div 
        className="search-progress-fill" 
        style={{ width: `${progress}%` }}
        role="progressbar"
        aria-valuenow={progress}
        aria-valuemin="0"
        aria-valuemax="100"
        aria-label={`–ü—Ä–æ–≥—Ä–µ—Å –ø–æ—à—É–∫—É: ${progress}%`}
      />
    </div>
    {stage && (
      <div className="search-progress-stage">
        {stage}
      </div>
    )}
  </div>
);
```

**CSS –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä—É:**
```css
.search-progress-container {
  margin: 10px 0;
  padding: 0 5px;
}

.search-progress-bar {
  width: 100%;
  height: 4px;
  background: var(--search-border);
  border-radius: 2px;
  overflow: hidden;
  position: relative;
}

.search-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--search-primary), var(--search-accent));
  border-radius: 2px;
  transition: width 0.3s ease;
  position: relative;
}

.search-progress-fill::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
  animation: searchProgressShimmer 1.5s infinite;
}

.search-progress-stage {
  font-size: 0.8rem;
  color: var(--search-text-light);
  margin-top: 4px;
  text-align: center;
  min-height: 20px;
}

@keyframes searchProgressShimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

@media (prefers-reduced-motion: reduce) {
  .search-progress-fill::after {
    animation: none;
  }
}
```

#### **2.2 –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ—à—É–∫—É**

**–§–∞–π–ª:** `src/components/search/SearchModal.js`

```javascript
// –î–æ–¥–∞—Ç–∏ —Å—Ç–µ–π—Ç –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:
const [searchStats, setSearchStats] = useState({
  searchTime: 0,
  totalResults: 0,
  relevanceScore: 0,
  cacheHit: false
});

// –§—É–Ω–∫—Ü—ñ—è —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:
const calculateSearchStats = (results, startTime, fromCache = false) => {
  const searchTime = Date.now() - startTime;
  const relevanceScore = Math.round(
    results.reduce((sum, result) => sum + (result.relevance || 0), 0) / results.length
  );
  
  setSearchStats({
    searchTime,
    totalResults: results.length,
    relevanceScore: Math.min(relevanceScore, 100),
    cacheHit: fromCache
  });
};

// UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:
const SearchStats = ({ stats }) => (
  <div className="search-stats" role="status" aria-live="polite">
    <span className="stat-item">
      <span className="stat-icon">‚è±Ô∏è</span>
      <span className="stat-value">{stats.searchTime}–º—Å</span>
    </span>
    
    <span className="stat-separator">‚Ä¢</span>
    
    <span className="stat-item">
      <span className="stat-icon">üìä</span>
      <span className="stat-value">{stats.totalResults} —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤</span>
    </span>
    
    <span className="stat-separator">‚Ä¢</span>
    
    <span className="stat-item">
      <span className="stat-icon">üéØ</span>
      <span className="stat-value">–†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ—Å—Ç—å: {stats.relevanceScore}%</span>
    </span>
    
    {stats.cacheHit && (
      <>
        <span className="stat-separator">‚Ä¢</span>
        <span className="stat-item cache-hit">
          <span className="stat-icon">‚ö°</span>
          <span className="stat-value">–ö–µ—à</span>
        </span>
      </>
    )}
  </div>
);
```

**CSS –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:**
```css
.search-stats {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 8px 16px;
  background: var(--search-bg-light);
  border-radius: var(--search-radius-small);
  font-size: 0.8rem;
  color: var(--search-text-light);
  margin-top: 12px;
  flex-wrap: wrap;
}

.stat-item {
  display: flex;
  align-items: center;
  gap: 4px;
}

.stat-icon {
  font-size: 0.9em;
  opacity: 0.8;
}

.stat-value {
  font-weight: 500;
}

.stat-separator {
  color: var(--search-border);
  font-weight: bold;
}

.cache-hit {
  color: var(--search-primary);
  font-weight: 600;
}

.cache-hit .stat-icon {
  animation: cachePulse 1s ease-in-out;
}

@keyframes cachePulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.2); }
}

@media (max-width: 480px) {
  .search-stats {
    font-size: 0.75rem;
    gap: 6px;
    padding: 6px 12px;
  }
  
  .stat-item {
    gap: 2px;
  }
}
```

#### **2.3 Stagger –∞–Ω—ñ–º–∞—Ü—ñ—ó –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤**

**CSS –∞–Ω—ñ–º–∞—Ü—ñ—ó:** `src/styles/enhanced-search.css`

```css
/* Stagger –∞–Ω—ñ–º–∞—Ü—ñ—è –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ */
.search-result-item {
  opacity: 0;
  transform: translateY(20px);
  animation: searchResultSlideIn 0.4s ease forwards;
  animation-delay: calc(var(--item-index, 0) * 0.05s);
}

.search-result-item:nth-child(1) { --item-index: 0; }
.search-result-item:nth-child(2) { --item-index: 1; }
.search-result-item:nth-child(3) { --item-index: 2; }
.search-result-item:nth-child(4) { --item-index: 3; }
.search-result-item:nth-child(5) { --item-index: 4; }
.search-result-item:nth-child(6) { --item-index: 5; }
.search-result-item:nth-child(7) { --item-index: 6; }
.search-result-item:nth-child(8) { --item-index: 7; }
.search-result-item:nth-child(9) { --item-index: 8; }
.search-result-item:nth-child(10) { --item-index: 9; }

@keyframes searchResultSlideIn {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Skeleton loading –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ */
.search-loading-skeleton {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.skeleton-item {
  background: linear-gradient(90deg, 
    var(--search-bg-light) 25%, 
    var(--search-border) 50%, 
    var(--search-bg-light) 75%
  );
  background-size: 200% 100%;
  animation: skeletonPulse 1.5s infinite;
  border-radius: var(--search-radius-small);
}

.skeleton-title {
  height: 20px;
  width: 70%;
  margin-bottom: 8px;
}

.skeleton-content {
  height: 14px;
  width: 90%;
  margin-bottom: 4px;
}

.skeleton-content:last-child {
  width: 60%;
}

@keyframes skeletonPulse {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

/* –ü–æ–∫—Ä–∞—â–µ–Ω—ñ hover –µ—Ñ–µ–∫—Ç–∏ */
.search-result-item {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.search-result-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0, 128, 128, 0.15);
}

.search-result-item:hover .result-arrow {
  transform: translateX(4px);
}

/* Micro-animations –¥–ª—è —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ */
.search-suggestion-tag {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.search-suggestion-tag:hover {
  transform: scale(1.05);
}

.search-suggestion-tag:active {
  transform: scale(0.98);
}

@media (prefers-reduced-motion: reduce) {
  .search-result-item,
  .skeleton-item,
  .search-suggestion-tag {
    animation: none !important;
    transition: opacity 0.15s ease !important;
  }
  
  .search-result-item:hover,
  .search-suggestion-tag:hover {
    transform: none !important;
  }
}
```

---

### **–§–ê–ó–ê 3: –î–û–î–ê–¢–ö–û–í–Ü UX –§–Ü–ß–Ü**

#### **3.1 Voice Search —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è**

**–ù–æ–≤–∏–π —Ñ–∞–π–ª:** `src/components/search/VoiceSearch.js`

```javascript
import React, { useState, useEffect, useCallback } from 'react';

const VoiceSearch = ({ onVoiceResult, isOpen }) => {
  const [isListening, setIsListening] = useState(false);
  const [isSupported, setIsSupported] = useState(false);
  const [error, setError] = useState(null);
  const [recognition, setRecognition] = useState(null);

  // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏
  useEffect(() => {
    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    if (SpeechRecognition) {
      setIsSupported(true);
      
      const recognitionInstance = new SpeechRecognition();
      recognitionInstance.continuous = false;
      recognitionInstance.interimResults = false;
      recognitionInstance.lang = 'uk-UA';
      
      recognitionInstance.onstart = () => {
        setIsListening(true);
        setError(null);
      };
      
      recognitionInstance.onresult = (event) => {
        const transcript = event.results[0][0].transcript;
        onVoiceResult(transcript);
        setIsListening(false);
      };
      
      recognitionInstance.onerror = (event) => {
        setError(getErrorMessage(event.error));
        setIsListening(false);
      };
      
      recognitionInstance.onend = () => {
        setIsListening(false);
      };
      
      setRecognition(recognitionInstance);
    }
  }, [onVoiceResult]);

  const getErrorMessage = (error) => {
    switch(error) {
      case 'no-speech':
        return '–ì–æ–ª–æ—Å –Ω–µ —Ä–æ–∑–ø—ñ–∑–Ω–∞–Ω–æ. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.';
      case 'audio-capture':
        return '–ú—ñ–∫—Ä–æ—Ñ–æ–Ω –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π.';
      case 'not-allowed':
        return '–î–æ—Å—Ç—É–ø –¥–æ –º—ñ–∫—Ä–æ—Ñ–æ–Ω–∞ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ.';
      default:
        return '–ü–æ–º–∏–ª–∫–∞ —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è –≥–æ–ª–æ—Å—É.';
    }
  };

  const startListening = useCallback(() => {
    if (recognition && !isListening) {
      recognition.start();
    }
  }, [recognition, isListening]);

  const stopListening = useCallback(() => {
    if (recognition && isListening) {
      recognition.stop();
    }
  }, [recognition, isListening]);

  if (!isSupported) {
    return null; // Graceful degradation
  }

  return (
    <div className="voice-search">
      <button
        className={`voice-search-btn ${isListening ? 'listening' : ''}`}
        onClick={isListening ? stopListening : startListening}
        aria-label={isListening ? '–ó—É–ø–∏–Ω–∏—Ç–∏ –≥–æ–ª–æ—Å–æ–≤–∏–π –ø–æ—à—É–∫' : '–†–æ–∑–ø–æ—á–∞—Ç–∏ –≥–æ–ª–æ—Å–æ–≤–∏–π –ø–æ—à—É–∫'}
        title={isListening ? '–°–ª—É—Ö–∞—é...' : '–ì–æ–ª–æ—Å–æ–≤–∏–π –ø–æ—à—É–∫'}
        disabled={!isOpen}
      >
        <svg 
          className="voice-icon" 
          viewBox="0 0 24 24" 
          fill="none"
          aria-hidden="true"
        >
          {isListening ? (
            <circle cx="12" cy="12" r="8" stroke="currentColor" strokeWidth="2"/>
          ) : (
            <path 
              d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z" 
              stroke="currentColor" 
              strokeWidth="2"
            />
          )}
          <path d="M19 10v2a7 7 0 0 1-14 0v-2" stroke="currentColor" strokeWidth="2"/>
          <line x1="12" y1="19" x2="12" y2="23" stroke="currentColor" strokeWidth="2"/>
          <line x1="8" y1="23" x2="16" y2="23" stroke="currentColor" strokeWidth="2"/>
        </svg>
        
        {isListening && (
          <div className="voice-pulse-indicator" aria-hidden="true">
            <div className="pulse-ring"></div>
            <div className="pulse-ring"></div>
            <div className="pulse-ring"></div>
          </div>
        )}
      </button>
      
      {error && (
        <div className="voice-error" role="alert">
          {error}
        </div>
      )}
      
      {isListening && (
        <div className="voice-status" role="status" aria-live="polite">
          –°–ª—É—Ö–∞—é... –ì–æ–≤–æ—Ä—ñ—Ç—å –∑–∞—Ä–∞–∑
        </div>
      )}
    </div>
  );
};

export default VoiceSearch;
```

**CSS –¥–ª—è Voice Search:**
```css
.voice-search {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}

.voice-search-btn {
  width: 44px;
  height: 44px;
  border: none;
  border-radius: 50%;
  background: var(--search-bg-light);
  color: var(--search-text);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.voice-search-btn:hover:not(:disabled) {
  background: var(--search-primary-light);
  color: var(--search-primary);
  transform: scale(1.05);
}

.voice-search-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.voice-search-btn.listening {
  background: var(--search-primary);
  color: white;
  animation: voicePulse 1.5s infinite;
}

.voice-icon {
  width: 20px;
  height: 20px;
  z-index: 2;
}

.voice-pulse-indicator {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 1;
}

.pulse-ring {
  position: absolute;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  animation: voiceRipple 1.5s infinite;
}

.pulse-ring:nth-child(1) {
  width: 44px;
  height: 44px;
  animation-delay: 0s;
}

.pulse-ring:nth-child(2) {
  width: 60px;
  height: 60px;
  animation-delay: 0.5s;
}

.pulse-ring:nth-child(3) {
  width: 76px;
  height: 76px;
  animation-delay: 1s;
}

.voice-error,
.voice-status {
  font-size: 0.8rem;
  text-align: center;
  padding: 4px 8px;
  border-radius: var(--search-radius-small);
  max-width: 200px;
}

.voice-error {
  color: #dc3545;
  background: rgba(220, 53, 69, 0.1);
}

.voice-status {
  color: var(--search-primary);
  background: var(--search-primary-light);
}

@keyframes voicePulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

@keyframes voiceRipple {
  0% {
    transform: translate(-50%, -50%) scale(0.5);
    opacity: 1;
  }
  100% {
    transform: translate(-50%, -50%) scale(1.2);
    opacity: 0;
  }
}

@media (prefers-reduced-motion: reduce) {
  .voice-search-btn.listening,
  .pulse-ring {
    animation: none !important;
  }
  
  .voice-search-btn:hover {
    transform: none !important;
  }
}
```

#### **3.2 Server-side –∞–≤—Ç–æ–∫–æ–º–ø–ª—ñ—Ç**

**–§–∞–π–ª:** `src/hooks/useAutocomplete.js`

```javascript
import { useState, useEffect, useMemo } from 'react';

const useAutocomplete = (query, delay = 300) => {
  const [suggestions, setSuggestions] = useState([]);
  const [isLoading, setIsLoading] = useState(false);
  const [error, setError] = useState(null);

  // Debounced fetch —Ñ—É–Ω–∫—Ü—ñ—è
  const debouncedFetch = useMemo(
    () => {
      let timeoutId;
      
      return async (searchQuery) => {
        clearTimeout(timeoutId);
        
        timeoutId = setTimeout(async () => {
          if (searchQuery.length < 2) {
            setSuggestions([]);
            return;
          }
          
          setIsLoading(true);
          setError(null);
          
          try {
            // –°–ø–æ—á–∞—Ç–∫—É –ª–æ–∫–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ
            const localSuggestions = getLocalSuggestions(searchQuery);
            setSuggestions(localSuggestions);
            
            // –ü–æ—Ç—ñ–º –∑ —Å–µ—Ä–≤–µ—Ä–∞ (—è–∫—â–æ –¥–æ—Å—Ç—É–ø–Ω–∏–π)
            const response = await fetch(`/api/search/suggest?q=${encodeURIComponent(searchQuery)}`, {
              signal: AbortController.signal,
              headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
              }
            });
            
            if (response.ok) {
              const serverSuggestions = await response.json();
              // –û–±'—î–¥–Ω–∞—Ç–∏ —Ç–∞ –¥–µ–¥—É–ø–ª—ñ–∫—É–≤–∞—Ç–∏
              const combinedSuggestions = mergeSuggestions(localSuggestions, serverSuggestions);
              setSuggestions(combinedSuggestions);
            }
          } catch (err) {
            if (err.name !== 'AbortError') {
              setError('–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ–π');
              console.warn('Autocomplete error:', err);
            }
          } finally {
            setIsLoading(false);
          }
        }, delay);
      };
    },
    [delay]
  );

  // –õ–æ–∫–∞–ª—å–Ω—ñ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó —è–∫ fallback
  const getLocalSuggestions = (searchQuery) => {
    const localData = [
      { text: '—â–µ–±—ñ–Ω—å –≥—Ä–∞–Ω—ñ—Ç–Ω–∏–π', category: '–ü—Ä–æ–¥—É–∫—Ü—ñ—è' },
      { text: '—â–µ–±—ñ–Ω—å –≤–∞–ø–Ω—è–∫–æ–≤–∏–π', category: '–ü—Ä–æ–¥—É–∫—Ü—ñ—è' },
      { text: '–ø—ñ—Å–æ–∫ —Ä—ñ—á–∫–æ–≤–∏–π', category: '–ü—Ä–æ–¥—É–∫—Ü—ñ—è' },
      { text: '–ø—ñ—Å–æ–∫ –∫–∞—Ä\'—î—Ä–Ω–∏–π', category: '–ü—Ä–æ–¥—É–∫—Ü—ñ—è' },
      { text: '–∞—Å—Ñ–∞–ª—å—Ç –≥–∞—Ä—è—á–∏–π', category: '–ü—Ä–æ–¥—É–∫—Ü—ñ—è' },
      { text: '–±–µ—Ç–æ–Ω –ú200', category: '–ü—Ä–æ–¥—É–∫—Ü—ñ—è' },
      { text: '–¥–æ—Å—Ç–∞–≤–∫–∞ –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤', category: '–ü–æ—Å–ª—É–≥–∏' },
      { text: '–æ—Ä–µ–Ω–¥–∞ —Ç–µ—Ö–Ω—ñ–∫–∏', category: '–ü–æ—Å–ª—É–≥–∏' },
      { text: '–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å', category: '–ü–æ—Å–ª—É–≥–∏' },
      { text: '–∫–æ–Ω—Ç–∞–∫—Ç–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è', category: '–ö–æ–Ω—Ç–∞–∫—Ç–∏' }
    ];
    
    return localData
      .filter(item => item.text.toLowerCase().includes(searchQuery.toLowerCase()))
      .slice(0, 5)
      .map(item => ({
        ...item,
        source: 'local'
      }));
  };

  // –û–±'—î–¥–Ω–∞–Ω–Ω—è –ª–æ–∫–∞–ª—å–Ω–∏—Ö —Ç–∞ —Å–µ—Ä–≤–µ—Ä–Ω–∏—Ö –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ–π
  const mergeSuggestions = (local, server) => {
    const combined = [...local];
    
    server.forEach(serverItem => {
      const exists = combined.find(localItem => 
        localItem.text.toLowerCase() === serverItem.text.toLowerCase()
      );
      
      if (!exists) {
        combined.push({
          ...serverItem,
          source: 'server'
        });
      }
    });
    
    return combined.slice(0, 8); // –ú–∞–∫—Å–∏–º—É–º 8 –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ–π
  };

  useEffect(() => {
    debouncedFetch(query);
  }, [query, debouncedFetch]);

  return {
    suggestions,
    isLoading,
    error
  };
};

export default useAutocomplete;
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç AutocompleteDropdown:**
```javascript
// src/components/search/AutocompleteDropdown.js
import React from 'react';

const AutocompleteDropdown = ({ 
  suggestions, 
  isLoading, 
  onSuggestionSelect, 
  selectedIndex,
  query 
}) => {
  if (!suggestions.length && !isLoading) {
    return null;
  }

  return (
    <div 
      className="autocomplete-dropdown"
      role="listbox"
      aria-label="–ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó –∞–≤—Ç–æ–∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è"
    >
      {isLoading && (
        <div className="autocomplete-loading" role="status" aria-live="polite">
          <span className="loading-spinner" aria-hidden="true"></span>
          –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ–π...
        </div>
      )}
      
      {suggestions.map((suggestion, index) => (
        <div
          key={`${suggestion.text}-${index}`}
          className={`autocomplete-item ${selectedIndex === index ? 'selected' : ''}`}
          role="option"
          aria-selected={selectedIndex === index}
          onClick={() => onSuggestionSelect(suggestion)}
          tabIndex={-1}
        >
          <div className="suggestion-content">
            <span className="suggestion-text">
              {highlightMatch(suggestion.text, query)}
            </span>
            <span className="suggestion-category">
              {suggestion.category}
            </span>
          </div>
          
          {suggestion.source === 'server' && (
            <div className="suggestion-badge" title="–ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—è –∑ —Å–µ—Ä–≤–µ—Ä–∞">
              <span aria-hidden="true">üåê</span>
            </div>
          )}
        </div>
      ))}
    </div>
  );
};

// –§—É–Ω–∫—Ü—ñ—è –ø—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è –∑–±—ñ–≥—É
const highlightMatch = (text, query) => {
  if (!query) return text;
  
  const regex = new RegExp(`(${query})`, 'gi');
  const parts = text.split(regex);
  
  return parts.map((part, index) => 
    regex.test(part) ? (
      <mark key={index} className="autocomplete-highlight">
        {part}
      </mark>
    ) : part
  );
};

export default AutocompleteDropdown;
```

#### **3.3 User Preferences —Å–∏—Å—Ç–µ–º–∞**

**–§–∞–π–ª:** `src/hooks/useUserPreferences.js`

```javascript
import { useState, useEffect } from 'react';

const DEFAULT_PREFERENCES = {
  animationsEnabled: true,
  compactMode: false,
  resultsPerPage: 10,
  colorScheme: 'auto', // 'light', 'dark', 'auto'
  voiceEnabled: true,
  autocompletionEnabled: true,
  searchHistory: true,
  keyboardShortcuts: true
};

const useUserPreferences = () => {
  const [preferences, setPreferences] = useState(DEFAULT_PREFERENCES);
  const [isLoading, setIsLoading] = useState(true);

  // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑ localStorage
  useEffect(() => {
    try {
      const saved = localStorage.getItem('comspec_search_preferences');
      if (saved) {
        const parsed = JSON.parse(saved);
        setPreferences({ ...DEFAULT_PREFERENCES, ...parsed });
      }
    } catch (error) {
      console.warn('–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å:', error);
    } finally {
      setIsLoading(false);
    }
  }, []);

  // –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ localStorage
  useEffect(() => {
    if (!isLoading) {
      try {
        localStorage.setItem('comspec_search_preferences', JSON.stringify(preferences));
      } catch (error) {
        console.warn('–ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å:', error);
      }
    }
  }, [preferences, isLoading]);

  // –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è CSS –∑–º—ñ–Ω–Ω–∏—Ö –¥–ª—è colorScheme
  useEffect(() => {
    const root = document.documentElement;
    
    if (preferences.colorScheme === 'dark') {
      root.setAttribute('data-theme', 'dark');
    } else if (preferences.colorScheme === 'light') {
      root.setAttribute('data-theme', 'light');
    } else {
      root.removeAttribute('data-theme');
    }
  }, [preferences.colorScheme]);

  const updatePreference = (key, value) => {
    setPreferences(prev => ({
      ...prev,
      [key]: value
    }));
  };

  const resetPreferences = () => {
    setPreferences(DEFAULT_PREFERENCES);
  };

  return {
    preferences,
    updatePreference,
    resetPreferences,
    isLoading
  };
};

export default useUserPreferences;
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å SearchSettings:**
```javascript
// src/components/search/SearchSettings.js
import React from 'react';
import useUserPreferences from '../../hooks/useUserPreferences';

const SearchSettings = ({ isOpen, onClose }) => {
  const { preferences, updatePreference, resetPreferences } = useUserPreferences();

  if (!isOpen) return null;

  return (
    <div className="settings-overlay" onClick={onClose}>
      <div className="settings-modal" onClick={e => e.stopPropagation()}>
        <div className="settings-header">
          <h3>–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–æ—à—É–∫—É</h3>
          <button 
            className="settings-close" 
            onClick={onClose}
            aria-label="–ó–∞–∫—Ä–∏—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è"
          >
            √ó
          </button>
        </div>
        
        <div className="settings-content">
          <div className="setting-group">
            <h4>–ó–æ–≤–Ω—ñ—à–Ω—ñ–π –≤–∏–≥–ª—è–¥</h4>
            
            <label className="setting-item">
              <span>–ö–æ–ª—å–æ—Ä–æ–≤–∞ —Å—Ö–µ–º–∞:</span>
              <select 
                value={preferences.colorScheme}
                onChange={e => updatePreference('colorScheme', e.target.value)}
              >
                <option value="auto">–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ</option>
                <option value="light">–°–≤—ñ—Ç–ª–∞</option>
                <option value="dark">–¢–µ–º–Ω–∞</option>
              </select>
            </label>
            
            <label className="setting-item">
              <input
                type="checkbox"
                checked={preferences.animationsEnabled}
                onChange={e => updatePreference('animationsEnabled', e.target.checked)}
              />
              <span>–ê–Ω—ñ–º–∞—Ü—ñ—ó</span>
            </label>
            
            <label className="setting-item">
              <input
                type="checkbox"
                checked={preferences.compactMode}
                onChange={e => updatePreference('compactMode', e.target.checked)}
              />
              <span>–ö–æ–º–ø–∞–∫—Ç–Ω–∏–π —Ä–µ–∂–∏–º</span>
            </label>
          </div>
          
          <div className="setting-group">
            <h4>–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å</h4>
            
            <label className="setting-item">
              <input
                type="checkbox"
                checked={preferences.voiceEnabled}
                onChange={e => updatePreference('voiceEnabled', e.target.checked)}
              />
              <span>–ì–æ–ª–æ—Å–æ–≤–∏–π –ø–æ—à—É–∫</span>
            </label>
            
            <label className="setting-item">
              <input
                type="checkbox"
                checked={preferences.autocompletionEnabled}
                onChange={e => updatePreference('autocompletionEnabled', e.target.checked)}
              />
              <span>–ê–≤—Ç–æ–∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è</span>
            </label>
            
            <label className="setting-item">
              <input
                type="checkbox"
                checked={preferences.searchHistory}
                onChange={e => updatePreference('searchHistory', e.target.checked)}
              />
              <span>–Ü—Å—Ç–æ—Ä—ñ—è –ø–æ—à—É–∫—É</span>
            </label>
            
            <label className="setting-item">
              <span>–†–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É:</span>
              <select 
                value={preferences.resultsPerPage}
                onChange={e => updatePreference('resultsPerPage', parseInt(e.target.value))}
              >
                <option value={5}>5</option>
                <option value={10}>10</option>
                <option value={20}>20</option>
                <option value={50}>50</option>
              </select>
            </label>
          </div>
        </div>
        
        <div className="settings-footer">
          <button 
            className="btn-reset" 
            onClick={resetPreferences}
          >
            –°–∫–∏–Ω—É—Ç–∏ –¥–æ –±–∞–∑–æ–≤–∏—Ö
          </button>
          <button 
            className="btn-primary" 
            onClick={onClose}
          >
            –ì–æ—Ç–æ–≤–æ
          </button>
        </div>
      </div>
    </div>
  );
};

export default SearchSettings;
```

---

### **–§–ê–ó–ê 4: –û–ü–¢–ò–ú–Ü–ó–ê–¶–Ü–Ø –¢–ê –†–ï–§–ê–ö–¢–û–†–ò–ù–ì**

#### **4.1 CSS —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥**

**–ü–ª–∞–Ω –¥—ñ–π:**
1. –°—Ç–≤–æ—Ä–∏—Ç–∏ —î–¥–∏–Ω–∏–π —Ñ–∞–π–ª –∑–º—ñ–Ω–Ω–∏—Ö `search-variables.css`
2. –í–∏–Ω–µ—Å—Ç–∏ —Å–ø—ñ–ª—å–Ω—ñ —Å—Ç–∏–ª—ñ —É `search-base.css`
3. –†–æ–∑–¥—ñ–ª–∏—Ç–∏ enhanced-search.css –Ω–∞ –º–æ–¥—É–ª—ñ
4. –í–∏–¥–∞–ª–∏—Ç–∏ –¥—É–±–ª—é–≤–∞–Ω–Ω—è –∫–æ–¥—É

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–æ–≤–∏—Ö —Ñ–∞–π–ª—ñ–≤:**
```
src/styles/search/
‚îú‚îÄ‚îÄ search-variables.css    # –í—Å—ñ CSS –∑–º—ñ–Ω–Ω—ñ
‚îú‚îÄ‚îÄ search-base.css        # –ë–∞–∑–æ–≤—ñ —Å—Ç–∏–ª—ñ
‚îú‚îÄ‚îÄ search-modal.css       # –°—Ç–∏–ª—ñ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞
‚îú‚îÄ‚îÄ search-results.css     # –°—Ç–∏–ª—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
‚îú‚îÄ‚îÄ search-animations.css  # –í—Å—ñ –∞–Ω—ñ–º–∞—Ü—ñ—ó
‚îú‚îÄ‚îÄ search-responsive.css  # –ú–µ–¥—ñ–∞-–∑–∞–ø–∏—Ç–∏
‚îî‚îÄ‚îÄ index.css             # –Ü–º–ø–æ—Ä—Ç –≤—Å—ñ—Ö —Ñ–∞–π–ª—ñ–≤
```

#### **4.2 Code Splitting**

**React.lazy –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:**
```javascript
// src/components/search/index.js
import { lazy } from 'react';

export const SearchModal = lazy(() => import('./SearchModal'));
export const VoiceSearch = lazy(() => import('./VoiceSearch'));
export const SearchSettings = lazy(() => import('./SearchSettings'));
```

#### **4.3 Performance –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è**

**Web Workers –¥–ª—è –ø–æ—à—É–∫—É:**
```javascript
// src/workers/searchWorker.js
self.onmessage = function(e) {
  const { query, data, options } = e.data;
  
  // –í–∏–∫–æ–Ω–∞—Ç–∏ –ø–æ—à—É–∫ –≤ –æ–∫—Ä–µ–º–æ–º—É –ø–æ—Ç–æ—Ü—ñ
  const results = performHeavySearch(query, data, options);
  
  self.postMessage({
    type: 'SEARCH_RESULTS',
    results,
    query
  });
};
```

---

## üìã –ü–õ–ê–ù –í–ò–ö–û–ù–ê–ù–ù–Ø –ü–û –¢–ò–ñ–ù–Ø–•

### **–¢–∏–∂–¥–µ–Ω—å 1: Accessibility (–ö–†–ò–¢–ò–ß–ù–û)** ‚≠ê
- **–î–µ–Ω—å 1-2**: ARIA –∞—Ç—Ä–∏–±—É—Ç–∏ —Ç–∞ —Å–µ–º–∞–Ω—Ç–∏–∫–∞
- **–î–µ–Ω—å 3**: prefers-reduced-motion –ø—ñ–¥—Ç—Ä–∏–º–∫–∞
- **–î–µ–Ω—å 4-5**: –ü–æ–∫—Ä–∞—â–µ–Ω–∞ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–Ω–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è
- **–î–µ–Ω—å 6-7**: Skip links, landmarks, —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### **–¢–∏–∂–¥–µ–Ω—å 2: –ê–Ω—ñ–º–∞—Ü—ñ—ó —Ç–∞ –ø—Ä–æ–≥—Ä–µ—Å**
- **–î–µ–Ω—å 1-2**: –ü—Ä–æ–≥—Ä–µ—Å–∏–≤–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
- **–î–µ–Ω—å 3-4**: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ—à—É–∫—É
- **–î–µ–Ω—å 5-6**: Stagger –∞–Ω—ñ–º–∞—Ü—ñ—ó —Ç–∞ skeleton loading
- **–î–µ–Ω—å 7**: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è

### **–¢–∏–∂–¥–µ–Ω—å 3: –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ñ—ñ—á—ñ**
- **–î–µ–Ω—å 1-3**: Voice Search (Progressive Enhancement)
- **–î–µ–Ω—å 4-5**: Server-side –∞–≤—Ç–æ–∫–æ–º–ø–ª—ñ—Ç
- **–î–µ–Ω—å 6-7**: User preferences —Å–∏—Å—Ç–µ–º–∞

### **–¢–∏–∂–¥–µ–Ω—å 4: –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è**
- **–î–µ–Ω—å 1-3**: CSS —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –º–æ–¥—É–ª—è—Ä–∏–∑–∞—Ü—ñ—è
- **–î–µ–Ω—å 4-5**: Code splitting —Ç–∞ Web Workers
- **–î–µ–Ω—å 6-7**: –§—ñ–Ω–∞–ª—å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ QA

---

## üß™ –ü–õ–ê–ù –¢–ï–°–¢–£–í–ê–ù–ù–Ø

### **Accessibility —Ç–µ—Å—Ç–∏:**
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
npm run test:a11y

# Manual —Ç–µ—Å—Ç–∏:
- Screen reader —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è (NVDA, JAWS)
- Keyboard-only –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è
- Color contrast –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
- Focus management —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
```

### **Performance —Ç–µ—Å—Ç–∏:**
```bash
# Lighthouse –∞—É–¥–∏—Ç
npm run audit:performance

# Bundle size –∞–Ω–∞–ª—ñ–∑
npm run analyze:bundle

# Animation performance
npm run test:animations
```

### **Cross-browser —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:**
```bash
# Desktop: Chrome, Firefox, Safari, Edge
# Mobile: iOS Safari, Chrome Mobile, Samsung Browser
# Screen readers: NVDA, JAWS, VoiceOver
```

---

## üìä –û–ß–Ü–ö–£–í–ê–ù–Ü –†–ï–ó–£–õ–¨–¢–ê–¢–ò

### **–ö—ñ–ª—å–∫—ñ—Å–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è:**
- ‚úÖ **Accessibility score**: 60% ‚Üí 95%
- ‚úÖ **Performance score**: 85% ‚Üí 95%
- ‚úÖ **Bundle size**: -30% —á–µ—Ä–µ–∑ code splitting
- ‚úÖ **First meaningful paint**: <1s
- ‚úÖ **Time to interactive**: <2s

### **–Ø–∫—ñ—Å–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è:**
- ‚úÖ **WCAG 2.1 AA compliance**: –ü–æ–≤–Ω–∞ —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å
- ‚úÖ **Progressive Enhancement**: Graceful degradation
- ‚úÖ **Multi-modal search**: –¢–µ–∫—Å—Ç + –≥–æ–ª–æ—Å
- ‚úÖ **–ü–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–∞—Ü—ñ—è**: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- ‚úÖ **Cross-platform**: –í—Å—ñ –æ—Å–Ω–æ–≤–Ω—ñ –±—Ä–∞—É–∑–µ—Ä–∏ —Ç–∞ –ø—Ä–∏—Å—Ç—Ä–æ—ó

### **User Experience –º–µ—Ç—Ä–∏–∫–∏:**
- ‚úÖ **Task completion rate**: +20%
- ‚úÖ **User satisfaction**: +25%
- ‚úÖ **Search success rate**: +15%
- ‚úÖ **Accessibility complaints**: -90%

---

## üîß –¢–ï–•–ù–Ü–ß–ù–Ü –í–ò–ú–û–ì–ò

### **–ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:**
```json
{
  "devDependencies": {
    "@axe-core/react": "^4.7.0",
    "eslint-plugin-jsx-a11y": "^6.7.1",
    "webpack-bundle-analyzer": "^4.9.0"
  }
}
```

### **–ë—Ä–∞—É–∑–µ—Ä–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞:**
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+
- iOS Safari 14+
- Chrome Mobile 90+

### **API Requirements:**
```
GET /api/search/suggest?q={query}
Response: [
  {
    "text": "string",
    "category": "string",
    "popularity": number
  }
]
```

---

## üìù –ß–ï–ö–õ–Ü–°–¢ –ó–ê–í–ï–†–®–ï–ù–ù–Ø

### **–§–∞–∑–∞ 1: Accessibility** ‚úÖ
- [ ] ARIA –∞—Ç—Ä–∏–±—É—Ç–∏ –¥–æ–¥–∞–Ω–æ
- [ ] Live regions –ø—Ä–∞—Ü—é—é—Ç—å
- [ ] prefers-reduced-motion —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ
- [ ] Keyboard navigation –ø–æ–∫—Ä–∞—â–µ–Ω–æ
- [ ] Skip links –¥–æ–¥–∞–Ω–æ
- [ ] Screen reader —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ–π–¥–µ–Ω–æ
- [ ] WCAG 2.1 AA compliance –¥–æ—Å—è–≥–Ω—É—Ç–æ

### **–§–∞–∑–∞ 2: –ê–Ω—ñ–º–∞—Ü—ñ—ó** ‚úÖ
- [ ] Progress bar —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ
- [ ] Search statistics –¥–æ–¥–∞–Ω–æ
- [ ] Stagger animations –ø—Ä–∞—Ü—é—é—Ç—å
- [ ] Skeleton loading –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–æ
- [ ] Micro-animations –¥–æ–¥–∞–Ω–æ
- [ ] Performance —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ–π–¥–µ–Ω–æ

### **–§–∞–∑–∞ 3: –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ñ—ñ—á—ñ** ‚úÖ
- [ ] Voice Search –ø—Ä–∞—Ü—é—î
- [ ] Server autocomplete —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–æ
- [ ] User preferences –∑–±–µ—Ä–µ–∂–µ–Ω–æ
- [ ] Settings modal —Å—Ç–≤–æ—Ä–µ–Ω–æ
- [ ] Progressive Enhancement –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ

### **–§–∞–∑–∞ 4: –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è** ‚úÖ
- [ ] CSS —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω–æ
- [ ] Code splitting –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–æ
- [ ] Bundle size –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–æ
- [ ] Web Workers —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–æ
- [ ] Cross-browser —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ–π–¥–µ–Ω–æ
- [ ] Performance goals –¥–æ—Å—è–≥–Ω—É—Ç–æ

---

**üéØ –°–¢–ê–¢–£–°:** –ì–æ—Ç–æ–≤–æ –¥–æ –ø–æ—á–∞—Ç–∫—É —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó  
**üìû –ö–û–ù–¢–ê–ö–¢:** –ö–æ–º–∞–Ω–¥–∞ Frontend —Ä–æ–∑—Ä–æ–±–∫–∏  
**üìÖ –î–ï–î–õ–ê–ô–ù:** 4 —Ç–∏–∂–Ω—ñ –≤—ñ–¥ —Å—Ç–∞—Ä—Ç—É  

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å—Ç–≤–æ—Ä–µ–Ω–æ: 20.07.2025*  
*–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è: 20.07.2025*